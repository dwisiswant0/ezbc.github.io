<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Elijah's Webpage  &mdash; Faint Residual Masking Application on Taurus and California </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="alternate" type="application/atom+xml" title="Elijah's Webpage" href="/feed.xml">
        <!-- Loop and attach page tags from page meta section -->
        
        <meta name="keywords" content="Taurus-California-PerseusResidualsMasking">
        
        <link rel="icon" type="image/png"
            href="/favicon.png">


        <!-- Clicks
        <script
            src="/assets/js/click.js">
        </script>
        -->

        <!-- Custom CSS -->
        <link rel="stylesheet"
            href="/assets/css/main.css">
        <link rel="stylesheet" media="print"
            href="/assets/css/print.css"/>
        <link
            href='http://fonts.googleapis.com/css?family=Poly:400,400italic'
            rel='stylesheet' type='text/css'>

        <!-- JQuery -->
        <script
            src="/assets/js/jquery-1.10.2.js">
        </script>

        <!-- Loading Bar -->
        <script
            src="/assets/js/pace.min.js">
        </script>

        <!-- Owl-carousel -->
        <link rel="stylesheet" href="/plugins/owlcarousel/owl.carousel.min.css">
        <link rel="stylesheet"
            href="/plugins/owlcarousel/owl.theme.default.min.css">

        <!-- Slick Carousel -->
        <link rel="stylesheet" type="text/css"
            href="/plugins_html/slick-1.5.7/slick/slick-theme.css"/>
        <link rel="stylesheet" type="text/css"
            href="/plugins_html/slick-1.5.7/slick/slick.css">
        <script type="text/javascript"
            src="//code.jquery.com/jquery-1.11.0.min.js">
        </script>
        <script type="text/javascript"
            src="//code.jquery.com/jquery-migrate-1.2.1.min.js">
        </script>
        <script type="text/javascript"
            src="/plugins_html/slick-1.5.7/slick/slick.min.js">
        </script>

        <!-- Bootstrap -->
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- Table of Contents -->
        <script
            src="/assets/js/jquery.toc.js">
        </script>

        <!-- Image Zoom -->
        <script
            src="/plugins_html/elevatezoom-master/jquery.elevatezoom.js" 
            type="text/javascript">
        </script>
        
        <!-- JS functions -->
        <script
            type="text/javascript"
            src="/assets/js/application.js">
        </script>

        <!-- Slick Carousel -->
        <script
            type="text/javascript"
            src="/assets/js/image_carousel.js">
        </script>

        <!-- Mathjax -->
        <script 
            type="text/javascript" 
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <!-- allow single dollar sign escape for mathjax -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
            tex2jax: {
              inlineMath: [ ['$','$'], ],
              processEscapes: true,
              processEnvironments: true,
            },
            TeX: {
              Macros: {
                nhi : "N(HI)",
                htwo : "H_2",
                in : "^{\\prime\\prime}",
                ft : "^{\\prime}",
                deg : "^\\circ",
              }
            }
          });
        </script>

        <script 
            src="/assets/js/jquery.toc.js">
        </script>


        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-67026116-1', 'auto');
          ga('send', 'pageview');
        

        </script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>



<!--
<style>
body { 
  background-padding: 0 !important;
  background-image: url('/images/background.jpg');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: left;
  background-min-width: 100px;
}
</style>
-->

<main>

<body>
    <!-- <span class="statusbar"></span> -->
    <!-- Wrap all page content here -->
    <div id="wrap">
        <div id="body" class="container">
            <div class="row row-offcanvas row-offcanvas-left">
                <!-- side navigation -->
                <nav id="nav" role="navigation" class="col-sm-2 sidebar-offcanvas">
                    <header id="menu" role="banner">
                        <p class="menu-title">Close</p>
                        <a href="#nav" class="close-btn">
                            <img src="/assets/fonts/close-btn.svg" alt="close button">
                        </a>
                    </header>
                    <ul class="sidebar" >

<!-- sort in alphebetical order -->
    <p class="separator">Navigation</p>
    <li><a href="/">Home</a></li>
    <li><a href="/research_log">Research Log</a></li>
    <li><a href="/hobbies">Hobbies</a></li>
    <li><a href="/contact">Contact</a></li>
    <li><a href="/search">Search</a></li>
    <li><a href="/tags">Tags</a></li>
    
    <a class="goto-top-link hide-on-phone" href="#top">
        <div class="goto-top text-center">
            <i class="fa fa-step-forward fa-rotate-270"></i>
        </div>
    </a>

</ul>
                    
                </nav>

                

                <header id="menu" role="banner">
                    <p class="menu-title">Menu</p>
                    <a href="#nav" class="menu-btn">
                        <img src="/assets/fonts/menu-btn.svg" alt="menu button">
                    </a>
                </header>
                <!-- Content -->
                <div class="col-sm-10">
                    <nav class="top">
                        <a href="/index.html">Blogs, astro, and more &mdash; Elijah's Webpage</a>
                        <span class="pull-right">
                            <a id="twitter-ic" class="link" href="https://twitter.com/ebernste1">
                                <i class="fa fa-twitter fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link" href="https://github.com/ezbc">
                                <i class="fa fa-github-square fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link" href="https://bitbucket.org/ezbc">
                                <i class="fa fa-bitbucket-square fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link"
                                href="https://plus.google.com/+ElijahBernsteinCooper">
                                <i class="fa fa-google-plus fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link"
                                href="https://linkedin.com/in/ElijahBernsteinCooper">
                                <i class="fa fa-linkedin fa-lg"></i>
                            </a>
                            </a>
                            <a id="rss-ic" class="link" href="/feed.xml">
                                <i class="fa fa-rss fa-lg"></i>
                            </a>
                        </span>
                    </nav>
                    <div class="row">
                        <body>
    <div class="col-sm-12">
        <div class="page">
            <div class="page-title">
                Faint Residual Masking Application on Taurus and California
                <div class="meta">    			
                    
                    By Elijah Bernstein-Cooper,
                    
                    July 16, 2015,
                    <a href="/research/2015/07/16/Backgrounds/#disqus_thread">0 <i class="fa fa-comments-o fa-lg"></i></a>
                    comments.
                </div>
            </div>
            <div class="page-content">
                <h2 id="likelihood-results">Likelihood Results</h2>

<hr />

<p><img src="/images/2015-07-16/perseus_planck_binned_fineres_likelihood_wd.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p><img src="/images/2015-07-15/perseus_planck_binned_fineres_likelihood_wi.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p>Figure 1. - Perseus likelihoods.</p>

<hr />

<hr />

<p><img src="/images/2015-07-16/california_planck_binned_fineres_likelihood_wd.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p><img src="/images/2015-07-16/california_planck_binned_fineres_likelihood_wi.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p>Figure 2. - California likelihoods. The tiny <script type="math/tex">HI</script> width is worrying. In an
attempt to address this strange behavior, I performed a 2D background fit on
California outlined in this <a href="/research/2015/06/29/Data-Updates-and-Backgrounds/">post</a>.
This narrow <script type="math/tex">HI</script> width is because the model is finding a high intercept fits
best, while only a small component of <script type="math/tex">HI</script> emission correlates with the dust.
The model believes that there is little dust which is associated with the
clouds <script type="math/tex">HI</script>.</p>

<p>The unmasked region used to fit the model is the diffuse, low-<script type="math/tex">A_V</script>
south-east region of California. See <a href="#california_mask">later in the post</a> for
the progression of masks.</p>

<hr />

<hr />

<p><img src="/images/2015-07-16/california_planck_backsub_binned_fineres_likelihood_wd.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p><img src="/images/2015-07-16/california_planck_backsub_binned_fineres_likelihood_wi.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p>Figure 3. - California likelihoods with a background subtraction. This looks
pretty bad. Not sure what is going on here.</p>

<hr />

<hr />

<p><img src="/images/2015-07-16/taurus_planck_binned_fineres_likelihood_wd.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p><img src="/images/2015-07-16/taurus_planck_binned_fineres_likelihood_wi.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p>Figure 4. - Taurus likelihoods. The model is favoring to include the entire
line of sight from Taurus. This seems reasonable, though is completely
different from what we were finding earlier.</p>

<hr />

<h2 id="masking-results">Masking Results</h2>

<p>Below are a progression of masked residual maps and residual histograms for
each iteration.  ‘mask iter’ refers to each iteration in the masking, ‘parent
iter’ refers to an entire run through masking and the MLE calculation. The
first mask, ‘mask iter = 0’, for each parent iteration should be the same,
since these are only the faintest 10% of the pixels without any other masking
applied.</p>

<hr />

<p><img src="/images/2015-07-16/perseus_planck_binned_fineres_residual_maps.gif" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p><img src="/images/2015-07-16/perseus_planck_binned_fineres_residual_hists.gif" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p>Figure 5. - Perseus masks.</p>

<hr />

<hr />
<p><a name="california_mask"></a></p>

<p><img src="/images/2015-07-16/california_planck_binned_fineres_residual_maps.gif" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p><img src="/images/2015-07-16/california_planck_binned_fineres_residual_hists.gif" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p>Figure 6. - California masks.</p>

<hr />
<hr />

<p><img src="/images/2015-07-16/taurus_planck_binned_fineres_residual_maps.gif" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p><img src="/images/2015-07-16/taurus_planck_binned_fineres_residual_hists.gif" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p>Figure 7. - Taurus masks.</p>

<hr />

<h2 id="mask-convergence">Mask Convergence</h2>

<p>We’re testing convergence of the DGR during masking outlined in the <a href="/research/2015/07/13/Faint-Masking-2/#convergence">last
post</a>.</p>

<hr />

<p><img src="/images/2015-07-16/perseus_planck_binned_fineres_dgr_intercept_progress.png" style="width: 100%" /> </p>

<p>Figure 8. - Perseus parameter convergences. </p>

<hr />

<hr />

<p><img src="/images/2015-07-16/california_planck_binned_fineres_dgr_intercept_progress.png" style="width: 100%" /> </p>

<p>Figure 8. - California parameter convergences. The DGRs are leveling off, as we
would expect.</p>

<hr />

<hr />

<p><img src="/images/2015-07-16/taurus_planck_binned_fineres_dgr_intercept_progress.png" style="width: 100%" /> </p>

<p>Figure 8. - Taurus parameter convergences. There is something obviously wrong
here. The <script type="math/tex">HI</script> width in the second iteration, <script type="math/tex">\Delta_V = 70</script> km/s, should
yield the same results as the first iteration, since there is no difference
between them. This is a bug.</p>

<hr />

<h2 id="multiprocessing">Multiprocessing</h2>

<p>The likelihood calculation now includes multiprocessing framework. This speeds
up the calculation by around 50% per additional CPU. See <a href="https://bitbucket.org/ezbc/python_modules/src/e1ce9629925c99ae0857946a2e5baf888216bb6b/cloudpy.py?at=master#cl-1661">this
version</a>
of <code>cloudpy</code>. Bip has 12 CPUs, so the speed increase is notable.</p>


                <!-- Share & Comments -->
                <div class="share">
    <p>Posted:
        <i>
            Thursday 16 July 2015
        </i>
        <a class="pull-right" href="https://twitter.com/intent/tweet?url=/research/2015/07/16/Backgrounds/&text=Faint Residual Masking Application on Taurus and California&via=ebernste1" target="_blank">
            <i class="fa fa-retweet" style="color:red;"></i> Share
        </a>
    </p>
    
       <ul>
           <li>Related:</li>
           <ul>
           
              
                  <li>
                      <a href="/research/2015/11/04/varying-phi-g-in-mc/">Varying Dust Opacity and Gas Temperatures</a>
                  </li>
              
                  <li>
                      <a href="/research/2015/11/01/gas-temperatures/">Gas Temperatures</a>
                  </li>
              
                  <li>
                      <a href="/research/2015/10/22/model-fits/">Addressing Core Variation</a>
                  </li>
              
           </ul>
       </ul>
    
</div>

<div class="comments">
    <div id="disqus_thread"></div>
</div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            
            </div>
        </div>
    </div>
</body>
        
<!-- Disques -->
<script>
    $(".page-preview-icon").hover(function(){
        $(this).parents(".page-nav").css("z-index","5000");
    });
    
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'httpezbcme'; // required: replace example with your forum shortname

/** Err
var disqus_identifier = '2015-07-16-Backgrounds.md';
var disqus_url = '/research/2015/07/16/Backgrounds/';
**/
   
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();



/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'httpezbcme'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());

</script>


                    </div>
                </div>
            </div>
        </div>
        <footer class="footer text-center meta">
            Powered by <a class="link" href="https://github.com/nadjetey/wangana">Wangana</a> &mdash; Jekyll theme.
        </footer>
    </div>
</body>
</main>
        <!-- Other JavaScripts -->
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/jquery.timeago.js"></script>
        <script>
          (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

ga('create', 'ezbc', 'ezbc');
ga('send', 'pageview');
          $(document).ready(function() {
    var timer;

    $(window).bind('scroll', (function() {
        clearTimeout(timer);
        timer = setTimeout(getPercent, 5);
        isTop();
    }));

    $(".goto-top-link").click(function(){
        event.preventDefault();
        $('html, body').animate({ scrollTop: 0 }, 'slow');
    });
});

function scrollPossition() {
    return ($(window).scrollTop() / ($(document).height() - $(window).height())) * 100;
}

function getPercent() {
    $(".statusbar").css("width", String(scrollPossition()) + "%");

    if (scrollPossition() > 97) {
        $(".statusbar").css("background-color", "#1ca265");
    } else {
        $(".statusbar").css("background-color", "#eb5e29");
    }
    return;
}

function isTop() {
  if(scrollPossition() > 30)
    $(".goto-top").fadeIn("slow");
  else
    $(".goto-top").fadeOut("slow");
}
          $(document).ready(function() {
    $('.menu-btn').click(function() {
        $('.row-offcanvas').toggleClass('active');
    });
    $('.close-btn').click(function() {
        $('.row-offcanvas').toggleClass('active');
    });
});
          jQuery(document).ready(function() {
    jQuery("time.timeago").timeago();
});
        </script>


        <!-- Owl-carousel -->
        <script src="jquery.min.js"></script>
        <script src="owlcarousel/owl.carousel.min.js"></script>

    </body>
</html>



