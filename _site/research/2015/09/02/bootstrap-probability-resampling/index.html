<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Elijah's Webpage  &mdash; Correcting the Bootstrap Resampling </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="alternate" type="application/atom+xml" title="Elijah's Webpage" href="/feed.xml">
        <!-- Loop and attach page tags from page meta section -->
        
        <meta name="keywords" content="Taurus-California-PerseusBootstrap">
        
        <link rel="icon" type="image/png"
            href="/favicon.png">


        <!-- Clicks
        <script
            src="/assets/js/click.js">
        </script>
        -->

        <!-- Custom CSS -->
        <link rel="stylesheet"
            href="/assets/css/main.css">
        <link rel="stylesheet" media="print"
            href="/assets/css/print.css"/>
        <link
            href='http://fonts.googleapis.com/css?family=Poly:400,400italic'
            rel='stylesheet' type='text/css'>

        <!-- JQuery -->
        <script
            src="/assets/js/jquery-1.10.2.js">
        </script>

        <!-- Loading Bar -->
        <script
            src="/assets/js/pace.min.js">
        </script>

        <!-- Owl-carousel -->
        <link rel="stylesheet" href="/plugins/owlcarousel/owl.carousel.min.css">
        <link rel="stylesheet"
            href="/plugins/owlcarousel/owl.theme.default.min.css">

        <!-- Slick Carousel -->
        <link rel="stylesheet" type="text/css"
            href="/plugins_html/slick-1.5.7/slick/slick-theme.css"/>
        <link rel="stylesheet" type="text/css"
            href="/plugins_html/slick-1.5.7/slick/slick.css">
        <script type="text/javascript"
            src="//code.jquery.com/jquery-1.11.0.min.js">
        </script>
        <script type="text/javascript"
            src="//code.jquery.com/jquery-migrate-1.2.1.min.js">
        </script>
        <script type="text/javascript"
            src="/plugins_html/slick-1.5.7/slick/slick.min.js">
        </script>

        <!-- Bootstrap -->
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- Table of Contents -->
        <script
            src="/assets/js/jquery.toc.js">
        </script>

        <!-- Image Zoom -->
        <script
            src="/plugins_html/elevatezoom-master/jquery.elevatezoom.js" 
            type="text/javascript">
        </script>
        
        <!-- JS functions -->
        <script
            type="text/javascript"
            src="/assets/js/application.js">
        </script>

        <!-- Slick Carousel -->
        <script
            type="text/javascript"
            src="/assets/js/image_carousel.js">
        </script>

        <!-- Mathjax -->
        <script 
            type="text/javascript" 
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <!-- allow single dollar sign escape for mathjax -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
            tex2jax: {
              inlineMath: [ ['$','$'], ],
              processEscapes: true,
              processEnvironments: true,
            },
            TeX: {
              Macros: {
                nhi : "N(HI)",
                htwo : "H_2",
                in : "^{\\prime\\prime}",
                ft : "^{\\prime}",
                deg : "^\\circ",
              }
            }
          });
        </script>

        <script 
            src="/assets/js/jquery.toc.js">
        </script>


        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-67026116-1', 'auto');
          ga('send', 'pageview');
        

        </script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>



<!--
<style>
body { 
  background-padding: 0 !important;
  background-image: url('/images/background.jpg');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: left;
  background-min-width: 100px;
}
</style>
-->

<main>

<body>
    <!-- <span class="statusbar"></span> -->
    <!-- Wrap all page content here -->
    <div id="wrap">
        <div id="body" class="container">
            <div class="row row-offcanvas row-offcanvas-left">
                <!-- side navigation -->
                <nav id="nav" role="navigation" class="col-sm-2 sidebar-offcanvas">
                    <header id="menu" role="banner">
                        <p class="menu-title">Close</p>
                        <a href="#nav" class="close-btn">
                            <img src="/assets/fonts/close-btn.svg" alt="close button">
                        </a>
                    </header>
                    <ul class="sidebar" >

<!-- sort in alphebetical order -->
    <p class="separator">Navigation</p>
    <li><a href="/">Home</a></li>
    <li><a href="/research_log">Research Log</a></li>
    <li><a href="/hobbies">Hobbies</a></li>
    <li><a href="/contact">Contact</a></li>
    <li><a href="/search">Search</a></li>
    <li><a href="/tags">Tags</a></li>
    
    <a class="goto-top-link hide-on-phone" href="#top">
        <div class="goto-top text-center">
            <i class="fa fa-step-forward fa-rotate-270"></i>
        </div>
    </a>

</ul>
                    
                </nav>

                

                <header id="menu" role="banner">
                    <p class="menu-title">Menu</p>
                    <a href="#nav" class="menu-btn">
                        <img src="/assets/fonts/menu-btn.svg" alt="menu button">
                    </a>
                </header>
                <!-- Content -->
                <div class="col-sm-10">
                    <nav class="top">
                        <a href="/index.html">Blogs, astro, and more &mdash; Elijah's Webpage</a>
                        <span class="pull-right">
                            <a id="twitter-ic" class="link" href="https://twitter.com/ebernste1">
                                <i class="fa fa-twitter fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link" href="https://github.com/ezbc">
                                <i class="fa fa-github-square fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link" href="https://bitbucket.org/ezbc">
                                <i class="fa fa-bitbucket-square fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link"
                                href="https://plus.google.com/+ElijahBernsteinCooper">
                                <i class="fa fa-google-plus fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link"
                                href="https://linkedin.com/in/ElijahBernsteinCooper">
                                <i class="fa fa-linkedin fa-lg"></i>
                            </a>
                            </a>
                            <a id="rss-ic" class="link" href="/feed.xml">
                                <i class="fa fa-rss fa-lg"></i>
                            </a>
                        </span>
                    </nav>
                    <div class="row">
                        <body>
    <div class="col-sm-12">
        <div class="page">
            <div class="page-title">
                Correcting the Bootstrap Resampling
                <div class="meta">    			
                    
                    By Elijah Bernstein-Cooper,
                    
                    September  2, 2015,
                    <a href="/research/2015/09/02/bootstrap-probability-resampling/#disqus_thread">0 <i class="fa fa-comments-o fa-lg"></i></a>
                    comments.
                </div>
            </div>
            <div class="page-content">
                <p><strong>Table of Contents</strong></p>

<hr style="height:2px; background-color:#b6b6b6" />

<ul id="markdown-toc">
  <li><a href="#number-of-bootstrap-resamplings"><strong>Number of bootstrap resamplings</strong></a></li>
  <li><a href="#bootstrap-resampling-probabilities"><strong>Bootstrap Resampling Probabilities</strong></a>    <ul>
      <li><a href="#figure-1"><strong>Figure 1</strong></a></li>
      <li><a href="#figure-2"><strong>Figure 2</strong></a></li>
    </ul>
  </li>
</ul>

<hr style="height:2px; background-color:#b6b6b6" />

<h2 id="number-of-bootstrap-resamplings"><strong>Number of bootstrap resamplings</strong></h2>

<p>The number of simulations we run can seem somewhat arbitrary. However the
simplest way to determine whether or not we have chosen enough samples is if
our estimated confidence interval changes at all between several bootstrap
simulations. In the paper I will quote the change in the confidence intervals
from different bootstrap runs. A rule of thumb is bootstrap resampling should
include at least 10,000 samples.</p>

<h2 id="bootstrap-resampling-probabilities"><strong>Bootstrap Resampling Probabilities</strong></h2>

<p>In yesterdayâ€™s <a href="/research/2015/09/01/bootstrap-finalization/">post</a> I showed
the linear fits to each cloud. The bootstrap fits seemed to show too shallow of
a slope given the distribution of the data. Today I identified this a mistake I
implemented in the bootstrap resampling. </p>

<p>I was assigning the probability of a measurement to be resampled as the inverse
of the measurements error. This mean that the vast majority of bootstrap
resamples included only low <script type="math/tex">A_V</script> measurements where the error is small.
Weighting the resampling led to a biased bootstrap measruement. My initial
reasoning for this was to favor more precise measurements in the bootstrap.</p>

<p>The bootstrap resampling now gives an equal probability to any measurement to
be resampled. The more precise measurements are still favored, as I perform a
weighted least-squares fit to the bootstrapped data. Below are the results
using the corrected bootstrap scheme.</p>

<hr />

<p><img src="/images/2015-09-02/multicloud_av_vs_nhi.png" style="width: 100%" /></p>

<h5 id="figure-1"><strong>Figure 1</strong></h5>

<p><script type="math/tex">A_V</script> vs N(HI) relationships for each cloud. The contour levels are now the
same in each cloud: 0.99, 0.98, 0.95, 0.86, 0.59% of the data. The bootstrap
fit is dominated by the lower <script type="math/tex">A_V</script> data with relatively smaller error,
however with the corrected resampling, the DGRs for each cloud rose from
<a href="/research/2015/09/01/bootstrap-finalization/#figure-3">previous iterations</a>.
The DGR in California went from 4.4 to 7.2. The slopes now seem to trace the
bulk of the data more reasonably now.</p>

<hr />

<p>The scatter plot with error bars shows the high <script type="math/tex">A_V</script> data points do not
contribute significantly to the fit because of their larger error.</p>

<hr />

<p><img src="/images/2015-09-02/multicloud_av_vs_nhi_scatter.png" style="width: 100%" /></p>

<h5 id="figure-2"><strong>Figure 2</strong></h5>

<p><script type="math/tex">A_V</script> vs N(HI) relationships for each cloud, showing only every 1 out of
every 100 data points. After correcting the bootstrap resampling, the fitted
relationship now follows a trend more like we would expect, as opposed to
<a href="/research/2015/09/01/bootstrap-finalization/#figure-4">before</a>.</p>

<hr />


                <!-- Share & Comments -->
                <div class="share">
    <p>Posted:
        <i>
            Wednesday 2 September 2015
        </i>
        <a class="pull-right" href="https://twitter.com/intent/tweet?url=/research/2015/09/02/bootstrap-probability-resampling/&text=Correcting the Bootstrap Resampling&via=ebernste1" target="_blank">
            <i class="fa fa-retweet" style="color:red;"></i> Share
        </a>
    </p>
    
       <ul>
           <li>Related:</li>
           <ul>
           
              
                  <li>
                      <a href="/research/2015/11/04/varying-phi-g-in-mc/">Varying Dust Opacity and Gas Temperatures</a>
                  </li>
              
                  <li>
                      <a href="/research/2015/11/01/gas-temperatures/">Gas Temperatures</a>
                  </li>
              
                  <li>
                      <a href="/research/2015/10/22/model-fits/">Addressing Core Variation</a>
                  </li>
              
           </ul>
       </ul>
    
</div>

<div class="comments">
    <div id="disqus_thread"></div>
</div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            
            </div>
        </div>
    </div>
</body>
        
<!-- Disques -->
<script>
    $(".page-preview-icon").hover(function(){
        $(this).parents(".page-nav").css("z-index","5000");
    });
    
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'httpezbcme'; // required: replace example with your forum shortname

/** Err
var disqus_identifier = '2015-09-02-bootstrap-probability-resampling.md';
var disqus_url = '/research/2015/09/02/bootstrap-probability-resampling/';
**/
   
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();



/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'httpezbcme'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());

</script>


                    </div>
                </div>
            </div>
        </div>
        <footer class="footer text-center meta">
            Powered by <a class="link" href="https://github.com/nadjetey/wangana">Wangana</a> &mdash; Jekyll theme.
        </footer>
    </div>
</body>
</main>
        <!-- Other JavaScripts -->
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/jquery.timeago.js"></script>
        <script>
          (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

ga('create', 'ezbc', 'ezbc');
ga('send', 'pageview');
          $(document).ready(function() {
    var timer;

    $(window).bind('scroll', (function() {
        clearTimeout(timer);
        timer = setTimeout(getPercent, 5);
        isTop();
    }));

    $(".goto-top-link").click(function(){
        event.preventDefault();
        $('html, body').animate({ scrollTop: 0 }, 'slow');
    });
});

function scrollPossition() {
    return ($(window).scrollTop() / ($(document).height() - $(window).height())) * 100;
}

function getPercent() {
    $(".statusbar").css("width", String(scrollPossition()) + "%");

    if (scrollPossition() > 97) {
        $(".statusbar").css("background-color", "#1ca265");
    } else {
        $(".statusbar").css("background-color", "#eb5e29");
    }
    return;
}

function isTop() {
  if(scrollPossition() > 30)
    $(".goto-top").fadeIn("slow");
  else
    $(".goto-top").fadeOut("slow");
}
          $(document).ready(function() {
    $('.menu-btn').click(function() {
        $('.row-offcanvas').toggleClass('active');
    });
    $('.close-btn').click(function() {
        $('.row-offcanvas').toggleClass('active');
    });
});
          jQuery(document).ready(function() {
    jQuery("time.timeago").timeago();
});
        </script>


        <!-- Owl-carousel -->
        <script src="jquery.min.js"></script>
        <script src="owlcarousel/owl.carousel.min.js"></script>

    </body>
</html>



